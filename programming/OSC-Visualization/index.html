<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../styles.css">
</head>

<style>
    body {
        background-color:  #c561ff;
    }

    /* h1 {
        color: #61ff8e;
        width: 33%;
        margin-top: 0;
        margin-bottom: 0;
        font-size: 2.5em;
        text-shadow: -1px -1px black;
        font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    } */

    #back-arrow {
        color: #61ff8e;
    }

    #label {
        color: #61ff8e;
        width: 100%;
    }

    .canvas-container {
        width: 66%;
        font-size: 50px;
        height: 1em;
    }

    #about-canvas {
        width: 2em;
        float: right;

    }

    hr {
        color: #61ff8e;
        background-color: #61ff8e;
        font-size: 2rem;
        height: 2px;
    }

    p {
        color: #61ff8e;
    }

    @media only screen and (max-width: 500px) {
        #label {
            /* font-size: 1.5em; */
            width: 100%;
        }

        .demo-video video {
            max-width: 90%;
        }

        #back-arrow {
            padding-right: 0%;
            margin: auto 0;
            width: 17.5%;
        }
    }

    @media only screen and (min-width: 500px) {
        .demo-video video {
            max-width: 50em;
        }
    }


    .resource-container {
        width: 100%;
        display: flex;
        justify-content: space-evenly;
        margin: 0 auto;
    }

    .link-container {
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }

    a {
        color: #61ff8e;
        transform: scale(1.0);
        transition: all ease 0.8s;
    }

    a:hover {
        transform: scale(1.1);
        transition: all ease 0.8s;
    }

</style>

<body>
    <div class="section-container">
        <div class="top-flex">
            <a id="back-arrow" href="../">
                <svg class="back-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path fill="#61ff8e" d="M160 128C142.3 128 128 113.7 128 96C128 78.3 142.3 64 160 64L256 64C309 64 352 107 352 160L352 466.7L425.4 393.3C437.9 380.8 458.2 380.8 470.7 393.3C483.2 405.8 483.2 426.1 470.7 438.6L342.7 566.6C330.2 579.1 309.9 579.1 297.4 566.6L169.4 438.6C156.9 426.1 156.9 405.8 169.4 393.3C181.9 380.8 202.2 380.8 214.7 393.3L288 466.7L288 160C288 142.3 273.7 128 256 128L160 128z"/></svg>
            </a>
            <h1 id="label">Visualizing OSC Data in Processing</h1>

            <div class="canvas-container">
                <canvas id="about-canvas">

                </canvas>
            </div>
        </div>
    <hr>

    <p class="inner-text-entry">This project combines live coding in Sonic.pi and visualization in Processing.
        Because Sonic.pi has a protocol to send OSC information across ports and Processing has the ability to listen for OSC information, 
        you can create live music in Sonic.pi and send specific notes to Processing. 
        In this instance, each instrument is visualized with a different shape and effect; for example, kick drums shrink the screen to increase the intensity of each hit.
    </p>
    
    <div class="resource-container">
        <div class="demo-video">
            <video controls> 
                <source src="../../public/videos/OSC.mp4" type="video/mp4">
            </video>
        </div>

        <div class="link-container">
            <a href="https://github.com/jblake05/OSC-Visualization">github repo</a>
        </div>
    </div>

    <script>
        const canvas = document.getElementById("about-canvas");
        const ctx = canvas.getContext("2d");

        const WIDTH = canvas.width;
        const HEIGHT = canvas.height;
        const BACKGROUND = "#c561ff";
        const FOREGROUND = "#61ff8e";
        const STROKE_WIDTH = 8;
        const RADIUS = Math.min(WIDTH, HEIGHT); // Math.min(WIDTH, HEIGHT)/6;



        function clear() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        const FPS = 100;

        ctx.fillStyle = FOREGROUND;
        ctx.strokeStyle = FOREGROUND;
        ctx.lineWidth = STROKE_WIDTH;
        
        let i = 0;
        const totalSteps = 100;

        function frame() {
            clear();

            const scale = i/totalSteps;

            ctx.beginPath();

            ctx.moveTo(WIDTH/2 - (scale*WIDTH/4), -STROKE_WIDTH + HEIGHT/2 + (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 + (scale*WIDTH/4), -STROKE_WIDTH + HEIGHT/2 + (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 + (scale*WIDTH/4), STROKE_WIDTH + HEIGHT/2 - (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 - (scale*WIDTH/4), STROKE_WIDTH + HEIGHT/2 - (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 - (scale*WIDTH/4), -STROKE_WIDTH + HEIGHT/2 + (scale*HEIGHT/2));

            ctx.stroke();

            i = (i+1)%totalSteps;

            setTimeout(frame, 1000/FPS);
        }
        setTimeout(frame, 1000/FPS);
    </script>

    </div>
</body>