<head>
    <link rel="stylesheet" href="../styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<style>
    body {
        background-color: #4bad62;
    }

    #back-arrow {
        color: #c9feff;
    }

    #label {
        color: #c9feff;
    }

    .canvas-container {
        width: 66%;
        font-size: 50px;
        height: 1em;
    }

    #about-canvas {
        width: 2em;
        float: right;

    }

    hr {
        color: #c9feff;
        background-color: #c9feff;
        font-size: 2rem;
        height: 2px;
    }

    .cover-entry {
        text-align: center;
    }

    .cover-grid {
        padding-top: 2.5%;
        width: 100%;
        display: grid;
    }

    .cover-entry img {
        border: 4px solid #c9feff;
        transform: scale(1.0);
        transition: all ease 0.8s;
        max-height: auto;
    }

    .cover-entry img:hover {
        transform: scale(1.1);
        transition: all ease 0.8s;
    }

    /* mobile */
    @media only screen and (max-width: 500px) {
        .cover-entry img {
            max-width: 80%;
            /* border: 10px solid black; */
        }

        .cover-grid {
            grid-template-rows: 1fr 1fr 1fr;
            grid-template-columns: 1fr;
        }

        #back-arrow {
            padding-right: 7%;
        }
    }

    /* pcs */
    @media only screen and (min-width: 500px) {
        .cover-entry img {
            max-width: 50%;
        }

        .cover-grid {
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: auto auto;
        }
    }

    a {
        color: #c9feff;
    }

    .p-text:hover {
        filter: brightness(100%); /* turn off brightness transition on hover for this text */
    }

</style>

<body>
    <div class="section-container">
        <div class="top-flex">
            <a id="back-arrow" href="../">â†©</a><h1 id="label">music</h1>

            <div class="canvas-container">
                <canvas id="about-canvas">

                </canvas>
            </div>
        </div>
    <hr>

    <div class="cover-grid">
        <div class="cover-entry">
            <a href="https://artists.landr.com/055905477112">
                <img src="../public/images/album-art/cover_swan_sq.jpg">
                <p class="p-text">feel [single]</p>
            </a>
        </div>

        <div class="cover-entry">
            <a href="https://artists.landr.com/055905477211">
                <img src="../public/images/album-art/cover_guy_sq.jpg">
                <p class="p-text">archives (2021-2024) [EP]</p>
            </a>
        </div>
    </div>

    <script>
        const canvas = document.getElementById("about-canvas");
        const ctx = canvas.getContext("2d");

        const WIDTH = canvas.width;
        const HEIGHT = canvas.height;
        const BACKGROUND = "#4bad62";
        const FOREGROUND = "#c9feff";
        const STROKE_WIDTH = 8;
        const RADIUS = Math.min(WIDTH, HEIGHT);

        function clear() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        const FPS = 100;

        ctx.fillStyle = FOREGROUND;
        ctx.strokeStyle = FOREGROUND;
        ctx.lineWidth = STROKE_WIDTH;
        
        let i = 0;
        const totalSteps = 100;

        function frame() {
            clear();

            const scale = i/totalSteps;

            ctx.beginPath();

            ctx.moveTo(WIDTH/2 - (scale*WIDTH/2) + STROKE_WIDTH, HEIGHT/2 + (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 + (scale*WIDTH/2) - STROKE_WIDTH, HEIGHT/2 - (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 + WIDTH/2 - STROKE_WIDTH, -STROKE_WIDTH + HEIGHT/2 + (scale*HEIGHT/2));
            ctx.lineTo(WIDTH/2 - (scale*WIDTH/2) + STROKE_WIDTH, HEIGHT/2 + (scale*HEIGHT/2));

            ctx.stroke();

            i = (i+1)%totalSteps;

            setTimeout(frame, 1000/FPS);
        }
        setTimeout(frame, 1000/FPS);
    </script>

    </div>
</body>